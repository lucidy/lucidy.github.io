<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  
  <title>iOS开发-CoreData的简单使用 | 男孩无衣</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  
    <meta name="author" content="Lucidy">
  
  
    <meta name="description" content="什么是CoreData?CoreData是iOS5之后才出现的一个框架, 它提供了对象-关系映射(ORM)的功能, 即能够将OC对象转换成数据, 保存在SQLite数据库文件中, 也能够将保存在数据库中的数据还原成OC对象.这个过程中, 我们不需要编写任何的sql语句, 这个有点类似于著名的Hibernate持久框架, 不过功能肯定没有Hibernate强大.

CoreData是如何将数据直接插">
  
  <meta name="description" content="什么是CoreData?CoreData是iOS5之后才出现的一个框架, 它提供了对象-关系映射(ORM)的功能, 即能够将OC对象转换成数据, 保存在SQLite数据库文件中, 也能够将保存在数据库中的数据还原成OC对象.这个过程中, 我们不需要编写任何的sql语句, 这个有点类似于著名的Hibernate持久框架, 不过功能肯定没有Hibernate强大.

CoreData是如何将数据直接插">
<meta property="og:type" content="article">
<meta property="og:title" content="iOS开发-CoreData的简单使用">
<meta property="og:url" content="http://yoursite.com/2015/12/08/iOS开发-CoreData的简单使用/index.html">
<meta property="og:site_name" content="男孩无衣">
<meta property="og:description" content="什么是CoreData?CoreData是iOS5之后才出现的一个框架, 它提供了对象-关系映射(ORM)的功能, 即能够将OC对象转换成数据, 保存在SQLite数据库文件中, 也能够将保存在数据库中的数据还原成OC对象.这个过程中, 我们不需要编写任何的sql语句, 这个有点类似于著名的Hibernate持久框架, 不过功能肯定没有Hibernate强大.

CoreData是如何将数据直接插">
<meta property="og:image" content="http://ac-4fcdbq4a.clouddn.com/785ab770a9b7deb2.png">
<meta property="og:image" content="http://ac-4fcdbq4a.clouddn.com/8a9a2c2afd64f490.png">
<meta property="og:image" content="http://ac-4fcdbq4a.clouddn.com/6c21520677193848.png">
<meta property="og:updated_time" content="2015-12-08T10:56:04.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="iOS开发-CoreData的简单使用">
<meta name="twitter:description" content="什么是CoreData?CoreData是iOS5之后才出现的一个框架, 它提供了对象-关系映射(ORM)的功能, 即能够将OC对象转换成数据, 保存在SQLite数据库文件中, 也能够将保存在数据库中的数据还原成OC对象.这个过程中, 我们不需要编写任何的sql语句, 这个有点类似于著名的Hibernate持久框架, 不过功能肯定没有Hibernate强大.

CoreData是如何将数据直接插">
  
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  
</head>

<body>
  <div class="wrapper">
    <header id="header">
  <div class="title">
    <h1><a href="/">男孩无衣</a></h1>
    <p><a href="/">You R Missing Me, But I Want To Fuck U</a></p>
  </div>
  <nav class="nav">
    <ul>
      
        <li><a href="/">Home</a></li>
      
        <li><a href="/archives">Archives</a></li>
      
      
    </ul>
    <div class="clearfix"></div>
  </nav>
  <div class="clearfix"></div>
</header>

    <div class="content"><article class="post">
  <header>
    
      <div class="icon"></div>
      <a href="/2015/12/08/iOS开发-CoreData的简单使用/">
  <time datetime="2015-12-08T01:33:17.000Z">
    2015-12-08
  </time>
</a>
    
    
  
    <h1 class="title">iOS开发-CoreData的简单使用</h1>
  

  </header>
  
  <div class="entry">
    
      <h4 id="什么是CoreData?">什么是CoreData?</h4><p>CoreData是iOS5之后才出现的一个框架, 它提供了<code>对象-关系映射(ORM)</code>的功能, 即能够将OC对象转换成数据, 保存在SQLite数据库文件中, 也能够将保存在数据库中的数据还原成OC对象.<br>这个过程中, 我们不需要编写任何的sql语句, 这个有点类似于著名的Hibernate持久框架, 不过功能肯定没有Hibernate强大.</p>
<blockquote>
<p>CoreData是如何将数据直接插入数据库呢?</p>
</blockquote>
<h4 id="CoreData的使用步骤">CoreData的使用步骤</h4><h5 id="一-为没有使用CoreData的工程添加CoreData">一.为没有使用CoreData的工程添加CoreData</h5><ul>
<li>1.<code>Command+N</code> 手工创建.xcdatamodeld文件, 这个过程相当于创建了一个数据库的模板(类型)</li>
<li>2.在.xcdatamodeld文件中, 创建一个实例, 并且为其对象指明对象及类型</li>
<li>3.<code>Command+N</code> 创建这个<code>实例</code>的<code>实例类</code> (CoreData-&gt;NSManagedObject subclass)</li>
<li>4.在使用coreData控制器的位置, 进行初始化:</li>
</ul>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@property(nonatomic,strong)NSManagedObjectContext * context;</span><br></pre></td></tr></table></figure>
<p>-ViewDidLoad:<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">// &#20174;&#20027;Boundle&#20013;&#33719;&#21462;&#25105;&#20204;&#21018;&#25165;&#21019;&#24314;&#30340;&#37027;&#20010;&#25968;&#25454;&#24211;&#27169;&#22411;&#10;NSManagedObjectModel * model = [NSManagedObjectModel mergedModelFromBundles:nil];&#10;&#10;// &#25345;&#20037;&#21270;&#35843;&#24230;&#22120;, &#30456;&#24403;&#20110;&#31649;&#29702;&#20154;&#21592;, &#20182;&#36127;&#36131;&#35299;&#37322;/&#20998;&#26512;&#19978;&#19979;&#25991;&#30340;&#35821;&#27861;, &#36127;&#36131;&#19978;&#19979;&#25991;&#19982;&#25968;&#25454;&#24211;&#30340;&#20132;&#20114;, &#25152;&#20197;&#23427;&#30340;&#21021;&#22987;&#21270;, &#38656;&#35201;&#25351;&#23450;&#19968;&#20010;&#25968;&#25454;&#24211;&#27169;&#22411;.&#10;NSPersistentStoreCoordinator * store = [[NSPersistentStoreCoordinator alloc] initWithManagedObjectModel:model];&#10;&#10;// &#25968;&#25454;&#24211;&#25991;&#20214;&#30340;&#20301;&#32622;&#10;NSString * doc = NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES)[0];&#10;// &#25968;&#25454;&#24211;&#25991;&#20214;&#21517;&#10;NSString * sqlite = [doc stringByAppendingPathComponent:@&#34;company.sqlite&#34;];&#10;&#10;// &#21578;&#35785;&#31649;&#29702;&#20154;&#21592;, &#38656;&#35201;&#31649;&#29702;&#30340;&#25968;&#25454;&#24211;&#30340;&#21517;&#23383;&#21644;&#36335;&#24452;&#10;[store addPersistentStoreWithType:NSSQLiteStoreType configuration:nil URL:[NSURL fileURLWithPath:sqlite] options:nil error:nil];&#10;&#10;// &#22768;&#26126;&#20102;&#19968;&#20010;&#19978;&#19979;&#25991;, &#36127;&#36131;&#36825;&#20010;&#19978;&#19979;&#25991;&#30340;&#21327;&#35843;&#22120;&#23601;&#26159;&#19978;&#19968;&#27493;&#21019;&#24314;&#30340;store.&#10;NSManagedObjectContext * context = [[NSManagedObjectContext alloc] init];&#10;&#10;// &#19978;&#19979;&#25991;&#20851;&#32852;&#19968;&#19979;&#25968;&#25454;&#24211;, &#38656;&#35201;&#19968;&#20010;&#25345;&#20037;&#21270;&#23545;&#35937;,&#10;context.persistentStoreCoordinator = store;</span><br></pre></td></tr></table></figure></p>
<p>画一张图来解释一下上面的过程:<br><img src="http://ac-4fcdbq4a.clouddn.com/785ab770a9b7deb2.png" alt="file-list"></p>
<ul>
<li>图中过程1表示, 从mainBoundle中, 将我们刚才手动创建的.xcdatamodeld文件, <code>反归档</code>到一个对象(model)中, 并且使用这个模型作为初始化条件, 实例化一个管理器的模型, 那么, 这个协调器就知道了自己所管理的数据库是什么样的(里面有什么东西).</li>
<li>过程2表示, 协调器根据刚才的模板, 为自己添加一个数据库, 协调器会根据手中的模板, 将这个数据库<strong>“改造”</strong>成.xcdatamodeld文件描述的样子.</li>
<li>过程3表示, 我们创建一个上下文, 并且将该上下文对象托管给刚才的协调器.</li>
<li>最终, 上下文和数据库通过协调器建立起联系, 我们操作上下文, 达到操作数据库的目的.</li>
</ul>
<hr>
<h4 id="CoreData实现实例的增删改查">CoreData实现实例的增删改查</h4><p>根据寡人多年的工作经验, 数据库的开发, 你需要掌握的东西其实并不多, 或者说”数据库开发的学习成本非常低”. 别忽略前提, 我是说, 如果你只开发的话.<br>掌握数据库开发, 无外乎5点. 增删改查+多表关联.</p>
<h5 id="向表中增加一个对象">向表中增加一个对象</h5><p>IBAction响应事件:<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">// &#25968;&#25454;&#24211;&#20934;&#22791;&#22909;&#20102;, &#24320;&#22987;&#20570;&#22522;&#26412;&#30340;&#25805;&#20316;.&#10;// !!!:&#28155;&#21152;&#19968;&#20010;&#21592;&#24037;&#10;-(IBAction)addEmployee:(id)sender&#10;&#123;&#10;    /*&#10;     &#36825;&#20010;&#23545;&#35937;&#19981;&#33021;&#31616;&#21333;&#30340;&#20351;&#29992; alloc+init &#26041;&#27861;&#21019;&#24314;, &#22240;&#20026;&#36825;&#26679;&#21019;&#24314;&#30340;&#23545;&#35937;,&#10;     &#21644;&#25105;&#20204;&#30340;&#19978;&#19979;&#25991;&#27809;&#26377;&#20851;&#31995;. &#20351;&#29992;NSEntityDescription&#26041;&#27861;, &#10;     &#21487;&#20197;&#20174;&#24403;&#21069;&#19978;&#19979;&#25991;&#25152;&#25351;&#21521;&#30340; &#21327;&#35843;&#22120; &#23545;&#24212;&#30340; &#25968;&#25454;&#24211;&#27169;&#22411;&#20013;, &#10;     &#25343;&#20986;&#36825;&#20010;&#31867;. &#22312;&#36825;&#20010;&#36807;&#31243;&#20013;, &#25105;&#20204;&#20351;&#29992;&#21040;&#20102;_context, &#10;     &#36827;&#32780;&#23558;&#36825;&#20010;&#23545;&#35937;&#21644;&#25105;&#20204;&#30340;_context&#24314;&#31435;&#20102;&#32852;&#31995;.*/&#10;     &#10;    // &#21019;&#24314;&#19968;&#20010;&#21592;&#24037;&#23545;&#35937;&#10;    Employee * emp = [NSEntityDescription insertNewObjectForEntityForName:@&#34;Employee&#34; inManagedObjectContext:_context];&#10;&#10;    emp.name = @&#34;&#24378;&#21733;&#34;;&#10;    emp.height = @1.75;&#10;    emp.birthday = [NSDate date];&#10;    &#10;    // &#35843;&#29992;&#19978;&#19979;&#25991;&#30340;&#20445;&#23384;&#26041;&#27861;. &#10;    NSError * error ;&#10;    [_context save:&#38;error];  &#10;    if (error) &#123;&#10;        NSLog(@&#34;%@&#34;,error);&#10;    &#125;&#10;&#125;</span><br></pre></td></tr></table></figure></p>
<p>通过上面的示例我们可以看到:<br>1.整个操作过程我们没有任何使用sql语句的地方. 这就是封装的好处之一.<br>2.想要入库的对象, 必须通过NSEntityDescription返回对象类型.<br>如果用图表示的话, 应该是这样<br><img src="http://ac-4fcdbq4a.clouddn.com/8a9a2c2afd64f490.png" alt="file-list"></p>
<h5 id="从表中查询数据-">从表中查询数据.</h5><p>IBAction响应事件:<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">// !!!:&#26597;&#21592;&#24037;&#10;// &#22312;&#26597;&#35810;&#25968;&#25454;&#26102;, &#20320;&#38656;&#35201;&#21019;&#24314;&#19968;&#20010;&#35831;&#27714;&#30340;&#23545;&#35937;, &#36825;&#20010;&#23545;&#35937;&#20320;&#21487;&#20197;&#25226;&#23427;&#29702;&#35299;&#25104;&#19968;&#20221;&#30003;&#35831;&#34920;, &#22312;&#19978;&#38754;&#22635;&#20889;&#20320;&#38656;&#35201;&#30340;&#25968;&#25454;, &#36807;&#28388;&#26465;&#20214;, &#25490;&#24207;&#35268;&#21017;&#31561;&#32422;&#26463;&#26465;&#20214;. &#28982;&#21518;&#25226;&#36825;&#20010;&#30003;&#35831;&#34920;&#20132;&#32473;&#19978;&#19979;&#25991;&#21435;&#25191;&#34892;.&#10;-(IBAction)selectALlEmp:(id)sender&#10;&#123;&#10;    // &#21019;&#24314;&#35831;&#27714;&#28165;&#21333;. (&#21521;&#28165;&#21333;&#19978;&#22635;&#20889;, &#20320;&#38656;&#35201;&#26597;&#35810;&#37027;&#24352;&#34920;&#30340;&#25968;&#25454;?)&#10;    NSFetchRequest * request = [NSFetchRequest fetchRequestWithEntityName:@&#34;Employee&#34;];&#10;&#10;    // &#35774;&#32622;&#35831;&#27714;&#26465;&#20214;, &#35859;&#35789;&#21305;&#37197;. (&#22312;&#28165;&#21333;&#19978;&#32487;&#32493;&#20889;, &#38656;&#35201;&#20160;&#20040;&#36807;&#28388;&#26465;&#20214;&#19981;?)&#10;    NSPredicate * pre = [NSPredicate predicateWithFormat:@&#34;name = %@&#34;, @&#34;&#24378;&#21733;&#34;];&#10;    request.predicate = pre;&#10;    &#10;    // &#35774;&#32622;&#25490;&#24207; (&#32487;&#32493;&#28165;&#21333;&#19978;&#20889;, &#26597;&#35810;&#22909;&#30340;&#25968;&#25454;, &#29992;&#19981;&#29992;/&#25353;&#29031;&#21738;&#20010;&#23383;&#27573;&#25490;&#24207;?)&#10;    request.sortDescriptors = @[[NSSortDescriptor sortDescriptorWithKey:@&#34;height&#34; ascending:YES]];&#10;    &#10;    //// &#19978;&#38754;&#30340;&#28165;&#21333;&#37117;&#22635;&#22909;&#20102;&#21543;? &#37027;&#20040;&#23601;&#23558;&#36825;&#20010;request&#28165;&#21333;, &#20132;&#32473;_context&#19978;&#19979;&#25991;&#21435;&#25191;&#34892;&#21543;!&#10;    // &#25191;&#34892;, &#32467;&#26524;&#32473;&#20320;&#36820;&#22238;&#19968;&#20010;&#23383;&#20856;, &#20803;&#32032;&#20026;&#36825;&#20010;&#34920;&#23545;&#24212;&#30340;&#23454;&#20363;&#31867;&#30340;&#23545;&#35937;.&#10;    NSError * error = nil;&#10;    NSArray * array = [_context executeFetchRequest:request error:&#38;error];&#10;    if (error) &#123;&#10;        NSLog(@&#34;%@&#34;,error);&#10;        return;&#10;    &#125;&#10;&#10;    NSLog(@&#34;%@&#34;,array);&#10;&#125;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>这个过程是不是比较繁琐?<br>试试Xcode自带的代码块:fetch,  上面的方法中, 输入这个单词试试!~</p>
</blockquote>
<h5 id="从表中修改数据-">从表中修改数据.</h5><p>IBAction响应事件:<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">// !!!:&#20462;&#25913;&#21592;&#24037;&#20449;&#24687;&#10;// &#20462;&#25913;&#20449;&#24687;&#21644;&#21024;&#38500;&#20449;&#24687;, &#37117;&#38656;&#35201;&#20808;&#36890;&#36807;&#19978;&#19979;&#25991;&#26597;&#25214;&#21040;&#38656;&#35201;&#25805;&#20316;&#30340;&#25968;&#25454;, &#28982;&#21518;&#20877;&#23545;&#20854;&#20462;&#25913;&#25110;&#21024;&#38500;&#10;-(IBAction)updateEmp:(id)sender&#10;&#123;&#10;    // &#22635;&#20889;&#19968;&#20010;&#26597;&#35810;&#28165;&#21333;, &#24819;&#35201;&#20462;&#25913;&#25968;&#25454;&#20808;&#24471;&#26597;&#35810;&#20986;&#26469;.&#10;    NSFetchRequest * request = [NSFetchRequest fetchRequestWithEntityName:@&#34;Employee&#34;];&#10;    // &#35774;&#32622;&#35831;&#27714;&#26465;&#20214;&#10;    NSPredicate * pre = [NSPredicate predicateWithFormat:@&#34;name = %@&#34;, @&#34;&#24378;&#21733;&#34;];&#10;    request.predicate = pre;&#10;    // &#25191;&#34892;, &#36820;&#22238;&#32467;&#26524;&#10;    NSError * error = nil;&#10;    NSArray * array = [_context executeFetchRequest:request error:&#38;error];&#10;    if (error) &#123;&#10;        NSLog(@&#34;%@&#34;,error);&#10;        return;&#10;    &#125;&#10;&#10;    //// &#20197;&#19978;&#21160;&#20316;&#26159;&#20026;&#20102;&#20808;&#25214;&#20986;&#38656;&#35201;&#20462;&#25913;&#30340;&#25968;&#25454;, &#36825;&#20123;&#25968;&#25454;&#23384;&#21040;&#20102;&#19968;&#20010;&#25968;&#32452;array&#20013;, &#10;    // &#27880;&#24847;, &#36825;&#20010;&#25968;&#32452;&#26159;&#19978;&#19979;&#25991;&#20013;&#30340;&#25968;&#32452;, &#22240;&#20026;, &#23427;&#26159;&#30001;&#19978;&#19979;&#25991;&#26597;&#35810;&#21518;&#24471;&#21040;&#30340;.&#10;&#10;    // &#26356;&#25913;&#10;    for (Employee * emp in array) &#123;&#10;        if ([emp.name isEqualToString:@&#34;&#24378;&#21733;&#34;]) &#123;&#10;            emp.height = @2.0;&#10;        &#125;&#10;    &#125;&#10;    &#10;    // &#20462;&#25913;&#20043;&#21518;, &#20445;&#23384;&#24403;&#21069;&#19978;&#19979;&#25991;.&#10;    [_context save:nil];&#10;&#125;</span><br></pre></td></tr></table></figure></p>
<h5 id="从表中删除数据-">从表中删除数据.</h5><p>IBAction响应事件:<br><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">// !!!: &#21024;&#38500;&#10;-(IBAction)delEmp:(id)sender&#10;&#123;&#10;    // &#22635;&#20889;&#19968;&#20010;&#26597;&#35810;&#28165;&#21333;, &#24819;&#35201;&#21024;&#38500;&#25968;&#25454;&#20808;&#24471;&#26597;&#35810;&#20986;&#26469;.&#10;    NSFetchRequest * request = [NSFetchRequest fetchRequestWithEntityName:@&#34;Employee&#34;];&#10;    // &#35774;&#32622;&#35831;&#27714;&#26465;&#20214;&#10;    NSPredicate * pre = [NSPredicate predicateWithFormat:@&#34;name = %@&#34;, @&#34;&#24378;&#21733;&#34;];&#10;    request.predicate = pre;&#10;    // &#25191;&#34892;, &#36820;&#22238;&#32467;&#26524;&#10;    NSError * error = nil;&#10;    NSArray * array = [_context executeFetchRequest:request error:&#38;error];&#10;    if (error) &#123;&#10;        NSLog(@&#34;%@&#34;,error);&#10;        return;&#10;    &#125;&#10;    &#10;    // &#21024;&#38500;&#26576;&#20154;&#10;    for (Employee * emp  in array) &#123;&#10;        if ([emp.name isEqualToString:@&#34;&#24378;&#21733;&#34;]) &#123;&#10;            // &#36825;&#37324;&#27880;&#24847;, &#19981;&#26159;&#21024;&#38500;array&#20013;&#30340;&#25968;&#25454;, &#26159;&#20174;&#19978;&#19979;&#25991;&#20013;&#23558;&#36825;&#20010;&#23545;&#35937;&#21024;&#38500;.&#10;            [_context deleteObject:emp];&#10;        &#125;&#10;    &#125;&#10; &#10;    // &#20445;&#23384;&#10;    [_context save:nil];&#10;&#125;</span><br></pre></td></tr></table></figure></p>
<p><img src="http://ac-4fcdbq4a.clouddn.com/6c21520677193848.png" alt="file-list"></p>
<p>CoreData的增删改查我们已经完成了, 接下来我们回到sqlite的世界中, 来看看用sql语句如何实增删改查.下面的例子是非常简单的例子, 但是却是数据库开发的基本语法元素. </p>
<blockquote>
<p>简单DDL语法:<br>增: insert into TableName ([colum1, colum2, colum3]) values ([张三, 28, 男]);<br>删: delete from TableName where name = “张三”;<br>改: update TableName set name = “李四”;<br>查: select name from TableName where name = “李四”;</p>
</blockquote>
<p>这些基本的语法加上表关联(jion), 能达到的效果就不一般了, 假设我们有两张表: tableA 和 tableB<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 您能猜出我用的是什么数据库语言吗?</span></span><br><span class="line"><span class="operator"><span class="keyword">select</span> </span><br><span class="line">    A.<span class="keyword">name</span>, </span><br><span class="line">    A.grade,</span><br><span class="line">    B.mathScore</span><br><span class="line"><span class="keyword">from</span></span><br><span class="line">    tableA A</span><br><span class="line"><span class="keyword">left</span> <span class="keyword">join</span> tableB B <span class="keyword">on</span> A.<span class="keyword">id</span> = B.<span class="keyword">id</span></span><br><span class="line"><span class="keyword">where</span></span><br><span class="line">    A.gender = <span class="string">'男'</span></span></span><br></pre></td></tr></table></figure></p>
<p>上面这段代码, 大概描述了 两张表关联使用, 从A表中取得无声的名字, 从B表中获得了学生的年级和数学成绩.<br>这样的代码您可能在大学的时候学习过, 但是请不要小觑它, 这种select格式能完成的功能远远超乎您的想象.</p>

    
  </div>
  <footer> 
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>
</div>
  </div>
  <footer id="footer"><div class="copyright">
  
  &copy; 2015 <a href="/">Lucidy</a>
  
</div>
<div class="theme-copyright">
  Theme by <a href="https://github.com/orderedlist" target="_blank">orderedlist</a>
   | 
  Redesign by <a href="http://heroicyang.com/" target="_blank">Heroic Yang</a>
</div>
<div class="clearfix"></div></footer>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
<script src="/js/scale.fix.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<script type="text/javascript">
  var duoshuoQuery = { short_name: 'lucidy' };
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';
    ds.async = true;
    ds.src = 'http://static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
  (function($){
    $('.fancybox').fancybox();
  })(jQuery);
</script>


</body>
</html>